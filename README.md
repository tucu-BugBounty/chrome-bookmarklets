
# Chrome bookmarks for URL extraction

This repository contains three JavaScript bookmarks for Chrome, designed to extract URLs and parameters from web pages. Each bookmarklet provides unique functionality for analyzing web content, useful for , BugBounty hunters.



## Bookmarks

### 1. Parameter Extractor:
**Description**: This bookmarklet extracts URLs with query parameters from a webpage, including those in scripts and network requests. It displays the results in a new window, grouped by domain, and downloads a text file with the output.

**Code**:
```javascript
javascript:(async function(){const urlParams=new Set();const domains=new Set();const urlRegex=/["']((?:[a-zA-Z]{1,10}:\/\/|\/\/)[^"%27\/]{1,}\.[a-zA-Z]{2,}[^"%27]{0,}|(?:\/|\.\.\/|\.\/)[^"%27><,;| *()%%$^\/\\\[\]][^"%27><,;|()]{2,}|(?:[a-zA-Z0-9_\-\/]{1,}\/[a-zA-Z0-9_\-/.]{1,}\.(?:[a-zA-Z]{1,4}|action)(?:[\?|#][^"']{0,}|))|(?:[a-zA-Z0-9_\-\/]{1,}\/[a-zA-Z0-9_\-\/]{3,}(?:[\?|#][^"']{0,}|))|(?:[a-zA-Z0-9_\-]{1,}\.(?:php|asp|aspx|jsp|json|action|html|js|txt|xml)(?:[\?|#][^"']{0,}|)))["']/g;const paramRegex=/(?:\?|&)([^&=]+)=([^&]*)/g;const processUrl=(url,baseUrl='')=>{let fullUrl=url;try{if(!url.match(/^[a-zA-Z]{1,10}:\/\//))fullUrl=new URL(url,baseUrl||window.location.origin).href;}catch(e){}let paramMatch;while((paramMatch=paramRegex.exec(url))!==null){urlParams.add(fullUrl);domains.add(new URL(fullUrl).hostname);}};const pageContent=document.documentElement.outerHTML;const urlMatches=pageContent.matchAll(urlRegex);for(const match of urlMatches)processUrl(match[1]);const scripts=document.getElementsByTagName("script");const fetchPromises=Array.from(scripts).filter(script=>script.src).map(script=>fetch(script.src).then(response=>response.text()).then(text=>{const urlMatches=text.matchAll(urlRegex);for(const match of urlMatches)processUrl(match[1],script.src);}).catch(error=>console.error(`Error fetching ${script.src}:`,error)));const originalFetch=window.fetch;window.fetch=function(){const url=typeof arguments[0]==='string'?arguments[0]:arguments[0].toString();processUrl(url);return originalFetch.apply(this,arguments);};const originalOpen=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){const url=arguments[1];processUrl(url);return originalOpen.apply(this,arguments);};try{await Promise.all(fetchPromises);await new Promise(resolve=>setTimeout(resolve,3000));const uniqueUrls=Array.from(urlParams).sort((a,b)=>a.localeCompare(b));const domainOutput=Array.from(domains).sort().map(domain=>`${domain}:\n\n${uniqueUrls.filter(url=>new URL(url).hostname===domain).map(url=>`${url}\n`).join('')}`).join('\n');const htmlContent=`<!DOCTYPE html><html><head><title>Extractor de Parámetros</title><style>body{font-family:Arial,sans-serif;padding:20px;}h1{font-size:18px;}pre{font-size:14px;white-space:pre-wrap;word-break:break-all;}</style></head><body><h1>Extractor de Parámetros</h1><pre>${domainOutput||'No se encontraron URLs con parámetros'}</pre></body></html>`;const newWindow=window.open('','_blank');newWindow.document.write(htmlContent);newWindow.document.close();const txtContent=`Extractor de Parámetros\n\n${domainOutput}`;const blob=new Blob([txtContent],{type:'text/plain'});const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=`${window.location.hostname||'urls'}_params.txt`;document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(error){console.error('Error en la ejecución:',error);}})();
```


### 2. URL Extractor:
**Description**: This bookmarklet collects all URLs from a webpage, including those in scripts and network requests. It provides a filterable interface in a new window to search by domain or keyword and downloads a text file with the results.

**Code**:
```javascript
javascript:(async function(){const urlSet=new Set();const urlRegex=/["']((?:[a-zA-Z]{1,10}:\/\/|\/\/)[^"%27\/]{1,}\.[a-zA-Z]{2,}[^"%27]{0,}|(?:\/|\.\.\/|\.\/)[^"%27><,;| *()%%$^\/\\\[\]][^"%27><,;|()]{2,}|(?:[a-zA-Z0-9_\-\/]{1,}\/[a-zA-Z0-9_\-/.]{1,}\.(?:[a-zA-Z]{1,4}|action)(?:[\?|#][^"']{0,}|))|(?:[a-zA-Z0-9_\-\/]{1,}\/[a-zA-Z0-9_\-\/]{3,}(?:[\?|#][^"']{0,}|))|(?:[a-zA-Z0-9_\-]{1,}\.(?:php|asp|aspx|jsp|json|action|html|js|txt|xml)(?:[\?|#][^"']{0,}|)))["']/g;const extractDomain=url=>{try{return new URL(url).hostname||"desconocido"}catch(e){return url.startsWith("/")?window.location.hostname:"desconocido"}};const pageContent=document.documentElement.outerHTML;const pageMatches=pageContent.matchAll(urlRegex);for(const match of pageMatches)urlSet.add(match[1]);const scripts=document.getElementsByTagName("script");const fetchPromises=Array.from(scripts).filter(script=>script.src).map(script=>fetch(script.src).then(response=>response.text()).then(text=>{const matches=text.matchAll(urlRegex);for(const match of matches)urlSet.add(match[1]);}).catch(error=>console.error(`Error fetching ${script.src}:`,error)));const originalFetch=window.fetch;window.fetch=function(){const url=arguments[0];urlSet.add(typeof url==='string'?url:url.toString());return originalFetch.apply(this,arguments);};const originalOpen=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){const url=arguments[1];urlSet.add(url);return originalOpen.apply(this,arguments);};try{await Promise.all(fetchPromises);await new Promise(resolve=>setTimeout(resolve,5000));const hostname=window.location.hostname||'urls';const filename=`${hostname}_urls.txt`;const urlList=Array.from(urlSet).sort();const domainMap={};urlList.forEach(url=>{const domain=extractDomain(url);if(!domainMap[domain])domainMap[domain]=[];domainMap[domain].push(url);});const domains=Object.keys(domainMap).sort();const domainOptions=domains.map(domain=>`<option value="${domain}">${domain} (${domainMap[domain].length})</option>`).join('');const urlItems=urlList.map(url=>`<li data-domain="${extractDomain(url)}">${url}</li>`).join('');const htmlContent=`<!DOCTYPE html><html><head><title>Extractor de URLs</title><style>body{font-family:Arial,sans-serif;padding:20px;}h1{font-size:18px;}h2{font-size:16px;margin-top:10px;}ul{list-style:none;padding:0;}li{word-break:break-all;margin:5px 0;}.search-container{margin:20px 0;}input,select{padding:5px;margin-right:10px;}button{padding:5px 10px;margin-right:5px;}.domain-group{margin-top:15px;}.domain-title{font-weight:bold;margin:10px 0;background:#f0f0f0;padding:5px;}.hidden{display:none;}</style></head><body><h1>Extractor de URLs</h1><h2>Total URLs encontradas: ${urlSet.size}</h2><div class="search-container"><input type="text" id="searchInput" placeholder="Buscar en URLs"><button id="searchButton">Buscar</button><button id="resetButton">Restablecer</button><div style="margin-top:10px;"><label for="domainSelect">Filtrar por dominio: </label><select id="domainSelect"><option value="all">Todos los dominios</option>${domainOptions}</select></div></div><div id="resultsContainer"><ul id="urlList">${urlItems}</ul></div></body></html>`;const newWindow=window.open('','_blank');newWindow.document.write(htmlContent);newWindow.document.close();const script=newWindow.document.createElement('script');script.textContent=`const allUrls=${JSON.stringify(urlList)};const domainMap=${JSON.stringify(domainMap)};document.getElementById('searchButton').addEventListener('click',function(){filterUrls()});document.getElementById('resetButton').addEventListener('click',function(){document.getElementById('searchInput').value='';document.getElementById('domainSelect').value='all';resetFilter()});document.getElementById('domainSelect').addEventListener('change',function(){filterUrls()});document.getElementById('searchInput').addEventListener('keyup',function(e){if(e.key==='Enter')filterUrls()});function filterUrls(){const input=document.getElementById('searchInput').value.toLowerCase();const selectedDomain=document.getElementById('domainSelect').value;const urlList=document.getElementById('urlList');let filteredUrls=[];if(selectedDomain==='all'){filteredUrls=allUrls.filter(url=>url.toLowerCase().includes(input));}else{filteredUrls=domainMap[selectedDomain]?.filter(url=>url.toLowerCase().includes(input))||[];}const filteredHtml=filteredUrls.map(url=>'<li>'+url+'</li>').join('');urlList.innerHTML=filteredHtml||'<li>No se encontraron coincidencias</li>';}function resetFilter(){const urlList=document.getElementById('urlList');urlList.innerHTML=allUrls.map(url=>'<li data-domain="'+extractDomain(url)+'">'+url+'</li>').join('');}function extractDomain(url){try{return new URL(url).hostname||"desconocido"}catch(e){return url.startsWith("/")?window.location.hostname:"desconocido"}};`;newWindow.document.body.appendChild(script);const txtContent=`Extractor de URLs\n\nTotal URLs encontradas: ${urlSet.size}\n\n${domains.map(domain=>`${domain}: (${domainMap[domain].length})\n${domainMap[domain].join('\n')}`).join('\n\n')}`;const blob=new Blob([txtContent],{type:'text/plain'});const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(error){console.error('Error en la ejecución:',error);}})();
```


### 3. Collected_URLs:
**Description**: A lightweight bookmarklet that collects URLs from a webpage's attributes (e.g., src, href, action). It displays the results grouped by domain in a new window and downloads a text file.

**Code**:
```javascript
javascript:(function(){var urls=[];document.querySelectorAll('*').forEach(element=>{if(element.src)urls.push(element.src);if(element.href)urls.push(element.href);if(element.action)urls.push(element.action);if(element.url)urls.push(element.url);});var uniqueUrls=[...new Set(urls)].sort();var domains={};uniqueUrls.forEach(url=>{try{var domain=new URL(url).hostname;if(domain){if(!domains[domain])domains[domain]=[];domains[domain].push(url);}}catch(e){}});var html=`<html><head><title>URLs recopiladas</title><style>body{font-family:Arial,sans-serif;}.domain{margin-bottom:20px;}.domain h2{margin-top:0;}</style></head><body><h1>URLs recopiladas</h1>`;var txtContent='';Object.keys(domains).sort().forEach(domain=>{html+=`<div class="domain"><h2>${domain}</h2><pre>${domains[domain].sort().join('\n')}</pre></div>`;txtContent+=`${domain}\n${domains[domain].sort().join('\n')}\n\n`;});html+=`</body></html>`;setTimeout(function(){var newWindow=window.open('','_blank');newWindow.document.write(html);newWindow.document.close();var blob=new Blob([txtContent],{type:'text/plain'});var link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download=window.location.hostname+'_collected-urls.txt';link.click();URL.revokeObjectURL(link.href);},100);})();
```


# Usage:

To use these bookmarklets:

*.Create a new bookmark in Chrome.
*.Copy the code above into the URL field.
*.Save the bookmark and click it while on a webpage to run the script.

